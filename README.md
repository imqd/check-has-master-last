# check-has-master-last

æœ¬ cli æ˜¯æ ¹æ® git çš„ tag æ£€æµ‹å½“å‰åˆ†æ”¯æ˜¯å¦æœ‰ master åˆ†æ”¯æœ€æ–°ä»£ç ã€‚

ä½ ä¼šé—®è¿™ä¸ªå…·ä½“æœ‰ä»€ä¹ˆç”¨ï¼Œé‚£çœ‹çœ‹ä¸‹é¢é—®é¢˜äº‹æ•…åœºæ™¯ï¼š

>  æŸäº§å“ğŸ¶ï¼Œæäº†ä¸ªéœ€æ±‚ï¼Œè¦æ±‚å¼€å‘åŒæ—¶è¦åš feature1 å’Œ feature2ï¼Œå…¶ä¸­ feature1 å…ˆæå‰å¥½å‡ å¤©å‘å¸ƒï¼Œåœ¨å½“å‘å¸ƒ feature2å½“å¤©ï¼Œ**ä½ å‘ç°æ²¡ feature2 æ²¡æœ‰ feature1 çš„ä»£ç **ï¼Œç„¶åå¿ƒé‡Œå„ç§ç¾Šé©¼ ğŸ¦™ã€‚



### 1ã€å®‰è£…å’Œé…ç½®

è¦é…åˆ githooks ä¸€èµ·ä½¿ç”¨ï¼Œè¿™é‡Œä»¥ husky ä¸ºä¾‹

```bash
npm i -D checkhasmasterlast husky
```

package.json æ·»åŠ å¦‚ä¸‹å†…å®¹ã€‚
```json
{
  "husky": {
    "hooks": {
      "pre-push": "./node_modules/.bin/chml",
      "...": "..."
    }
  }
}
```

### 2ã€ä½¿ç”¨

å½“ git push æ—¶ï¼Œæç¤ºä¸‹é¢é”™è¯¯ã€‚ä½ è·Ÿæˆ‘ï¼Œèµ¶ç´§æ‰“ tagã€‚

```bash
$ ã€å°ä¼™å­ï¼Œä½ å¾ˆå±é™©ï¼ã€‘master æœ€æ–°ä»£ç æ²¡æœ‰æ‰“ tag
```

å½“ git push æ—¶ï¼Œæç¤ºä¸‹é¢é”™è¯¯ã€‚ä½ è·Ÿæˆ‘ï¼Œèµ¶ç´§æ‹‰å» master æœ€æ–°ä»£ç ã€‚

```bash
$ ã€å°ä¼™å­ï¼Œä½ å¾ˆå±é™©ï¼ã€‘ä½ ç°åœ¨åˆ†æ”¯æ²¡æœ‰ master æœ€æ–°ä»£ç 
```

æ³¨æ„ï¼šè¿™é‡Œ master é»˜è®¤æ˜¯ç”Ÿäº§ä»£ç åˆ†æ”¯ï¼Œä¹Ÿé»˜è®¤åœ¨æ­¤åˆ†æ”¯æ‰“tagã€‚
